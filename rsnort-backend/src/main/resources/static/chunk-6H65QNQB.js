import{b,g as M}from"./chunk-G2ZDQF7D.js";import{a as j,b as k}from"./chunk-3EZHYVYE.js";import{a as S,b as m,d as y,e as F,h as _,i as x,j as w,n as O,p as P,q as I,t as N,u as A}from"./chunk-YUJAXVMM.js";import{l as v,n as C}from"./chunk-EVYG6S67.js";import{a as E,b as G}from"./chunk-XLB63BX3.js";import{Aa as l,Ea as i,Kc as h,La as s,Ya as c,bb as o,bc as g,c as f,cb as t,db as d,jb as u,ub as r}from"./chunk-2BTMJZGR.js";var L=class p{constructor(n,e,a,B){this.fb=n;this.auth=e;this.router=a;this.agentService=B;this.form=this.fb.group({email:["",[m.required,m.email]],password:["",m.required]})}form;onSubmit(){if(!this.form.valid)return;let{email:n,password:e}=this.form.value;this.auth.login(n,e).subscribe({next:()=>f(this,null,function*(){console.log("[Login] OK \u2013 cargando agentes\u2026");try{yield this.agentService.load()}catch{}this.router.navigate(["/overview"])}),error:a=>alert("Credenciales incorrectas")})}static \u0275fac=function(e){return new(e||p)(i(O),i(M),i(b),i(h))};static \u0275cmp=s({type:p,selectors:[["app-login"]],decls:15,vars:2,consts:[[1,"login-container"],[1,"login-card"],[1,"login-title"],[3,"ngSubmit","formGroup"],["appearance","fill",1,"login-field"],["matInput","","formControlName","email","placeholder","ej. admin@example.com"],["matInput","","formControlName","password",3,"type"],["mat-raised-button","","color","primary","type","submit",1,"login-button"]],template:function(e,a){e&1&&(o(0,"div",0)(1,"mat-card",1)(2,"h2",2),r(3,"Iniciar sesi\xF3n"),t(),o(4,"form",3),u("ngSubmit",function(){return a.onSubmit()}),o(5,"mat-form-field",4)(6,"mat-label"),r(7,"Correo electr\xF3nico"),t(),d(8,"input",5),t(),o(9,"mat-form-field",4)(10,"mat-label"),r(11,"Contrase\xF1a"),t(),d(12,"input",6),t(),o(13,"button",7),r(14," Acceder "),t()()()()),e&2&&(l(4),c("formGroup",a.form),l(8),c("type","password"))},dependencies:[g,P,_,S,y,F,x,w,G,E,A,N,I,k,j,C,v],styles:["body[_ngcontent-%COMP%]{background-color:#181c20;margin:0;font-family:Segoe UI,sans-serif}.login-container[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center;background:linear-gradient(160deg,#1f2329,#1a1e23)}.login-card[_ngcontent-%COMP%]{background-color:#23272f;color:#d3d9df;padding:2rem;width:360px;border-radius:12px;box-shadow:0 0 12px #64646426}.login-title[_ngcontent-%COMP%]{text-align:center;color:#64ffda;margin-bottom:1.5rem;font-weight:600;font-size:1.6rem}.login-field[_ngcontent-%COMP%]{width:100%;margin-bottom:1.2rem}.mat-form-field-appearance-fill[_ngcontent-%COMP%]   .mat-form-field-flex[_ngcontent-%COMP%]{background-color:#2f353f}.mat-form-field-label[_ngcontent-%COMP%]{color:#aaa}.mat-input-element[_ngcontent-%COMP%]{color:#e6e6e6}.login-button[_ngcontent-%COMP%]{width:100%;background-color:#64b5f6;color:#101010;font-weight:700;border-radius:8px}.login-button[_ngcontent-%COMP%]:hover{background-color:#42a5f5}"]})};export{L as LoginComponent};
