import{a as A}from"./chunk-NXCJJ6KL.js";import{a as E,b as S}from"./chunk-55C5CUWB.js";import{a as U}from"./chunk-XPDOIN52.js";import"./chunk-EGQHFC2O.js";import{a as y,b as P}from"./chunk-XLB63BX3.js";import{Aa as d,Fb as C,Gb as x,Hb as v,Kc as w,La as b,Qa as p,Y as c,Ya as r,_b as O,ac as I,bb as i,bc as M,cb as o,db as l,eb as g,fb as f,kb as s,q as _,tb as h,ub as u}from"./chunk-2BTMJZGR.js";function k(e,n){if(e&1&&(g(0),i(1,"div",3)(2,"mat-card",4),l(3,"grafana-frame",5),o(),i(4,"mat-card",6),l(5,"grafana-frame",5),o(),i(6,"mat-card",6),l(7,"grafana-frame",5),o(),i(8,"mat-card",7),l(9,"grafana-frame",5),o(),i(10,"mat-card",8),l(11,"grafana-frame",5),o()(),f()),e&2){let t=s().ngIf,a=s();d(3),r("ip",t.ip)("path","/d-solo/"+a.dashboardUid+"/snort-ids-ips-dashboard?orgId=1&panelId=1&refresh=30s"),d(2),r("ip",t.ip)("path","/d-solo/"+a.dashboardUid+"/snort-ids-ips-dashboard?orgId=1&panelId=14&refresh=30s"),d(2),r("ip",t.ip)("path","/d-solo/"+a.dashboardUid+"/snort-ids-ips-dashboard?orgId=1&panelId=22&refresh=30s"),d(2),r("ip",t.ip)("path","/d-solo/"+a.dashboardUid+"/snort-ids-ips-dashboard?orgId=1&panelId=7&refresh=30s"),d(2),r("ip",t.ip)("path","/d-solo/"+a.dashboardUid+"/snort-ids-ips-dashboard?orgId=1&panelId=13&refresh=10s")}}function T(e,n){if(e&1&&(g(0),p(1,k,12,10,"ng-container",2),f()),e&2){let t=n.ngIf,a=s(),m=h(3);d(),r("ngIf",t&&a.dashboardUid)("ngIfElse",m)}}function N(e,n){e&1&&(i(0,"p",9),u(1,"\u274C No se ha seleccionado ning\xFAn agente o no se pudo obtener el dashboard"),o())}function $(e,n){e&1&&(i(0,"div",10),l(1,"mat-spinner",11),o())}var D=class e{agentSrv=c(w);agentApi=c(U);central$;dashboardUid=null;loadingDashboard=!0;ngOnInit(){this.central$=this.agentSrv.current$.pipe(_(n=>n??null)),this.agentApi.getGrafanaDashboardUid().then(n=>{this.dashboardUid=n,this.loadingDashboard=!1}).catch(n=>{console.error("Error obteniendo UID del dashboard:",n),this.loadingDashboard=!1})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=b({type:e,selectors:[["app-overview"]],decls:6,vars:4,consts:[["fallback",""],["loading",""],[4,"ngIf","ngIfElse"],[1,"overview-grid"],[1,"panel-card","severity"],[3,"ip","path"],[1,"panel-card","donut"],[1,"panel-card","pie"],[1,"panel-card","alerts"],[1,"fallback"],[1,"loading"],["diameter","48"]],template:function(t,a){if(t&1&&(p(0,T,2,2,"ng-container",2),C(1,"async"),p(2,N,2,0,"ng-template",null,0,v)(4,$,2,0,"ng-template",null,1,v)),t&2){let m=h(5);r("ngIf",x(1,2,a.central$))("ngIfElse",m)}},dependencies:[M,O,I,P,y,S,E,A],styles:[".overview-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(520px,1fr));grid-auto-rows:260px;gap:1rem;padding:1rem}.severity[_ngcontent-%COMP%], .alerts[_ngcontent-%COMP%]{grid-column:1 / -1}.panel-card[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;border-radius:12px;overflow:hidden;box-shadow:0 4px 16px #00000014;background-color:var(--md-sys-color-surface)}.panel-card[_ngcontent-%COMP%]   grafana-frame[_ngcontent-%COMP%], .panel-card[_ngcontent-%COMP%]   grafana-frame[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;height:100%;border:0}.loading[_ngcontent-%COMP%], .fallback[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:60vh;font-weight:700}.fallback[_ngcontent-%COMP%]{color:var(--mdc-theme-error, #d32f2f)}@media (max-width: 600px){.overview-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;grid-auto-rows:240px}}"]})};export{D as OverviewComponent};
